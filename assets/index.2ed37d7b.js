import{j as u,r as d,A as p,R as m,a as g}from"./vendor.ec3b5089.js";const w=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}};w();const v="_container_c2uxa_1";var h={container:v,"distance-container":"_distance-container_c2uxa_6","compass-container":"_compass-container_c2uxa_22"};const t=u.exports.jsx,f=u.exports.jsxs,x=()=>{const[s,r]=d.exports.useState(0),[i,a]=d.exports.useState(0);d.exports.useEffect(()=>{p.addModuleDataListener(e)},[]);const e=async n=>{const o=n.streams;if(Object.keys(o).length===0)throw new Error("No streams.");Object.keys(o).forEach((l,M)=>{const c=y(o,l);typeof c!="string"&&c!==void 0&&(o[l].data[0].name==="home.angle"&&r(c),o[l].data[0].name==="home.distance"&&a(c))})};return f("div",{className:h.container,children:[t("div",{style:{transform:`rotate(${s}deg)`,transition:"200ms"},className:h["compass-container"],children:i===0?f("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t("rect",{x:"9.76575",y:"9.89075",width:"4.46853",height:"4.46853",rx:"2.23427",fill:"white"}),t("circle",{cx:"12",cy:"12.125",r:"6.43592",stroke:"white","stroke-width":"2"}),t("path",{d:"M12 4.79382V2.14062",stroke:"white"}),t("path",{d:"M12 22.1094V19.0024",stroke:"white"}),t("path",{d:"M18.9628 12.125L22 12.125",stroke:"white"}),t("path",{d:"M2.03126 12.125L4.68445 12.125",stroke:"white"})]}):f("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:`scale(${1+i/50})`,transition:"100ms"},children:[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13 4V20H11V4H13Z",fill:"white"}),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.2929 3.29289C11.6834 2.90237 12.3166 2.90237 12.7071 3.29289L18.7071 9.29289L17.2929 10.7071L12 5.41421L6.70712 10.7071L5.29291 9.29289L11.2929 3.29289Z",fill:"white"})]})}),t("div",{className:h["distance-container"],children:t("span",{children:`${i}M`})})]})},y=(s,r)=>{if(s[r]===void 0)return"No stream.";if(s[r].loading)return;if(s[r].tooMuchData)return"Too much data.";if(s[r].data.length===0)return"No data.";const i=s[r].data[0].points.at(-1);return i?i[1]:"No datapoints."},L=()=>t("div",{className:"App",children:t(x,{})});m.render(t(g.StrictMode,{children:t(L,{})}),document.getElementById("root"));
