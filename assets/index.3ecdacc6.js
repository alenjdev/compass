import{j as f,r as d,A as u,R as p,a as m}from"./vendor.ec3b5089.js";const g=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}};g();var h="/compass/assets/compass.26f1e3c1.png";const y="_container_1qknt_1";var l={container:y,"distance-container":"_distance-container_1qknt_6"};const r=f.exports.jsx,v=f.exports.jsxs,N=()=>{const[n,s]=d.exports.useState({angle:0,distance:0});d.exports.useEffect(()=>{u.addModuleDataListener(i)},[]);const i=async a=>{const e=a.streams;if(Object.keys(e).length===0)throw new Error("No streams.");const t=n;Object.keys(e).forEach((o,j)=>{const c=x(e,o);typeof c!="string"&&c!==void 0&&(e[o].data[0].name==="home.angle"&&(t.angle=c),e[o].data[0].name==="home.distance"&&(t.distance=c))}),JSON.stringify(n)!==JSON.stringify(t)&&s(t)};return v("div",{className:l.container,children:[r("div",{style:{transform:`rotate(${n.angle}deg)`,transition:"200ms"},className:"compass-container",children:r("img",{height:80,src:h})}),r("div",{className:l["distance-container"],children:r("span",{children:`${n.distance}M`})})]})},x=(n,s)=>{if(n[s]===void 0)return"No stream.";if(n[s].loading)return;if(n[s].tooMuchData)return"Too much data.";if(n[s].data.length===0)return"No data.";const i=n[s].data[0].points.at(-1);return i?i[1]:"No datapoints."},O=()=>r("div",{className:"App",children:r(N,{})});p.render(r(m.StrictMode,{children:r(O,{})}),document.getElementById("root"));
