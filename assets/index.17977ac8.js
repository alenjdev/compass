import{j as m,r as h,A as v,R as w,a as x}from"./vendor.5bbd1840.js";const y=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))f(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&f(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}};y();const N="_container_p6lfo_1",L="_navigation_p6lfo_33";var p={container:N,"distance-container":"_distance-container_p6lfo_9","compass-container":"_compass-container_p6lfo_25",navigation:L};const t=m.exports.jsx,u=m.exports.jsxs,M=["No stream.","Too much data.","No data.","No datapoints."],_=i=>M.includes(i),j=()=>{const[i,o]=h.exports.useState(0),[r,f]=h.exports.useState(0),[e,n]=h.exports.useState(""),c=(d,s,l)=>d+l*1e3<s;h.exports.useEffect(()=>{v.addModuleDataListener(g)},[]);const g=async d=>{const s=d.streams;if(Object.keys(s).length===0)throw new Error("No streams.");Object.keys(s).forEach((l,A)=>{const a=k(s,l);if(!_(a)&&a!==void 0){if(s[l].data[0].name==="home.angle"){if(c(a[0],d.time,10)){o(0);return}o(a[1]*-1)}if(s[l].data[0].name==="Navigation"){if(c(a[0],d.time,10)){n("");return}n(a[1])}if(s[l].data[0].name==="home.distance"){if(c(a[0],d.time,10)){o(0);return}f(a[1])}}})};return u("div",{className:p.container,children:[t("div",{style:{transform:`rotate(${i}deg)`,transition:"200ms"},className:p["compass-container"],children:r===0?u("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t("rect",{x:"9.76575",y:"9.89075",width:"4.46853",height:"4.46853",rx:"2.23427",fill:"white"}),t("circle",{cx:"12",cy:"12.125",r:"6.43592",stroke:"white",strokeWidth:"2"}),t("path",{d:"M12 4.79382V2.14062",stroke:"white"}),t("path",{d:"M12 22.1094V19.0024",stroke:"white"}),t("path",{d:"M18.9628 12.125L22 12.125",stroke:"white"}),t("path",{d:"M2.03126 12.125L4.68445 12.125",stroke:"white"})]}):u("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:`scale(${r>24?5:1+r/3})`,transition:"100ms"},children:[t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4V20H11V4H13Z",fill:"white"}),t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 3.29289C11.6834 2.90237 12.3166 2.90237 12.7071 3.29289L18.7071 9.29289L17.2929 10.7071L12 5.41421L6.70712 10.7071L5.29291 9.29289L11.2929 3.29289Z",fill:"white"})]})}),t("div",{className:p["distance-container"],children:t("span",{children:`${r.toFixed(2)}M`})}),t("div",{className:p.navigation,children:e})]})},k=(i,o)=>{if(i[o]===void 0)return"No stream.";if(i[o].loading)return;if(i[o].tooMuchData)return"Too much data.";if(i[o].data.length===0)return"No data.";const r=i[o].data[0].points.at(-1);return r||"No datapoints."},R=()=>t("div",{className:"App",children:t(j,{})});w.render(t(x.StrictMode,{children:t(R,{})}),document.getElementById("root"));
